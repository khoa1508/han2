<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phiáº¿u bÃ i táº­p tÆ°Æ¡ng tÃ¡c: ChÃºc má»«ng sinh nháº­t</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            touch-action: manipulation;
        }
        .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        .screen {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.95); }
            to { opacity: 1; transform: scale(1); }
        }
        .task-list li {
            position: relative;
            padding-left: 1.5rem;
            margin-bottom: 0.5rem; /* Add some space between list items */
        }
        .task-list li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: #16a34a; /* green-600 */
            font-weight: bold;
        }
        .translation {
            color: #4b5563; /* text-gray-600 */
            font-size: 0.9em;
            margin-left: 8px;
        }
        #scenario-translation {
             display: none;
             margin-top: 1rem;
             padding: 1rem;
             background-color: #f3f4f6; /* bg-gray-100 */
             border-left: 4px solid #6b7280; /* border-gray-500 */
             border-radius: 0.25rem;
        }
    </style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-4xl mx-auto">
        <!-- MÃ n hÃ¬nh giá»›i thiá»‡u -->
        <div id="introduction-screen" class="screen bg-white p-6 md:p-8 rounded-2xl shadow-2xl">
            <div class="text-center">
                <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800">å£è¯­ç»ƒä¹ ï¼šç¥ä½ ç”Ÿæ—¥å¿«ä¹</h1>
                <p class="text-lg text-gray-600 mt-2">BÃ i táº­p kháº©u ngá»¯: ChÃºc má»«ng sinh nháº­t</p>
            </div>
            <div class="mt-8 text-center">
                <h2 class="text-2xl font-bold text-gray-700">ç»ƒä¹ èƒŒæ™¯ (Bá»‘i cáº£nh bÃ i táº­p)</h2>
                <div id="scenario-chinese" class="mt-4 text-xl text-gray-800 leading-relaxed">
                    <p>A å’Œ B æ˜¯åŒå­¦ï¼Œä»–ä»¬å¶ç„¶é‡åˆ°äº†ã€‚èŠå¤©çš„æ—¶å€™ï¼Œä»–ä»¬å‘ç°å…±åŒçš„æœ‹å‹Cçš„ç”Ÿæ—¥å¿«åˆ°äº†ã€‚äºæ˜¯ï¼Œä»–ä»¬å†³å®šç§˜å¯†åœ°ä¸ºCä¸¾åŠä¸€ä¸ªæƒŠå–œç”Ÿæ—¥æ™šä¼šã€‚</p>
                </div>
                <div id="scenario-translation">
                    <p class="font-semibold text-gray-700">Pinyin:</p>
                    <p class="text-gray-600 italic">A hÃ© B shÃ¬ tÃ³ngxuÃ©, tÄmen Ç’urÃ¡n yÃ¹dÃ o le. LiÃ¡otiÄn de shÃ­hou, tÄmen fÄxiÃ n gÃ²ngtÃ³ng de pÃ©ngyÇ’u C de shÄ“ngrÃ¬ kuÃ i dÃ o le. YÃºshÃ¬, tÄmen juÃ©dÃ¬ng mÃ¬mÃ¬ de wÃ¨i C jÇ”bÃ n yÃ­ ge jÄ«ngxÇ shÄ“ngrÃ¬ wÇnhuÃ¬.</p>
                    <hr class="my-3">
                    <p class="font-semibold text-gray-700">Dá»‹ch nghÄ©a:</p>
                    <p class="text-gray-600">A vÃ  B lÃ  báº¡n há»c, há» tÃ¬nh cá» gáº·p nhau. Khi nÃ³i chuyá»‡n, há» phÃ¡t hiá»‡n ra sinh nháº­t cá»§a ngÆ°á»i báº¡n chung lÃ  C sáº¯p Ä‘áº¿n. VÃ¬ váº­y, há» quyáº¿t Ä‘á»‹nh bÃ­ máº­t tá»• chá»©c má»™t bá»¯a tiá»‡c sinh nháº­t báº¥t ngá» cho C.</p>
                </div>
                <button id="toggle-translation-btn" class="mt-6 bg-blue-100 text-blue-800 font-semibold py-2 px-4 rounded-lg hover:bg-blue-200 transition-colors">
                    Hiá»ƒn thá»‹ Pinyin & Dá»‹ch nghÄ©a
                </button>
            </div>
            <button id="start-exercise-btn" class="mt-8 w-full bg-green-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-green-700 transition-colors text-lg">
                å¼€å§‹ç»ƒä¹  (Báº¯t Ä‘áº§u luyá»‡n táº­p)
            </button>
        </div>

        <!-- MÃ n hÃ¬nh chá»n nhÃ¢n váº­t -->
        <div id="character-selection" class="screen">
            <div class="text-center mb-10">
                <h1 class="text-3xl md:text-4xl font-extrabold text-gray-800">é€‰æ‹©ä½ çš„è§’è‰²</h1>
                <p class="text-lg text-gray-600 mt-2">Chá»n má»™t nhÃ¢n váº­t Ä‘á»ƒ nháº­n nhiá»‡m vá»¥ bÃ­ máº­t cá»§a báº¡n!</p>
            </div>
            <div class="grid md:grid-cols-3 gap-8">
                <!-- CÃ¡c tháº» nhÃ¢n váº­t -->
                <div class="card bg-white rounded-2xl shadow-lg p-6 text-center cursor-pointer" onclick="showRole('A')">
                    <div class="text-6xl mb-4">ğŸ˜</div>
                    <h2 class="text-2xl font-bold text-blue-600">NhÃ¢n váº­t A (è§’è‰²A)</h2>
                    <p class="text-gray-500 mt-2">NgÆ°á»i chá»§ Ä‘á»™ng, nhiá»‡t tÃ¬nh</p>
                </div>
                <div class="card bg-white rounded-2xl shadow-lg p-6 text-center cursor-pointer" onclick="showRole('B')">
                    <div class="text-6xl mb-4">ğŸ¤—</div>
                    <h2 class="text-2xl font-bold text-green-600">NhÃ¢n váº­t B (è§’è‰²B)</h2>
                    <p class="text-gray-500 mt-2">NgÆ°á»i báº¡n tá»‘t bá»¥ng, hay giÃºp Ä‘á»¡</p>
                </div>
                <div class="card bg-white rounded-2xl shadow-lg p-6 text-center cursor-pointer" onclick="showRole('C')">
                    <div class="text-6xl mb-4">ğŸ¥³</div>
                    <h2 class="text-2xl font-bold text-purple-600">NhÃ¢n váº­t C (è§’è‰²C)</h2>
                    <p class="text-gray-500 mt-2">NgÆ°á»i báº¡n sáº¯p cÃ³ sinh nháº­t</p>
                </div>
            </div>
        </div>

        <!-- MÃ n hÃ¬nh hiá»ƒn thá»‹ vai trÃ² -->
        <div id="role-display" class="screen bg-white p-6 md:p-8 rounded-2xl shadow-2xl">
            <div id="role-content"></div>
            <button onclick="goBack()" class="mt-8 w-full bg-gray-700 text-white font-bold py-3 px-4 rounded-lg hover:bg-gray-800 transition-colors">
                è¿”å›è§’è‰²é€‰æ‹© (Chá»n láº¡i nhÃ¢n váº­t khÃ¡c)
            </button>
        </div>
    </div>

    <script>
        // --- DOM Elements ---
        const introductionScreen = document.getElementById('introduction-screen');
        const characterSelectionScreen = document.getElementById('character-selection');
        const roleDisplayScreen = document.getElementById('role-display');
        const toggleTranslationBtn = document.getElementById('toggle-translation-btn');
        const startExerciseBtn = document.getElementById('start-exercise-btn');
        const scenarioTranslation = document.getElementById('scenario-translation');
        const roleContent = document.getElementById('role-content');
        
        // --- Data ---
        const roles = {
            'A': {
                name_vi: 'NhÃ¢n váº­t A',
                name_zh: 'è§’è‰²A',
                name_py: 'JuÃ©sÃ¨ A',
                color: 'blue',
                description_vi: 'Báº¡n lÃ  ngÆ°á»i chá»§ Ä‘á»™ng vÃ  nhiá»‡t tÃ¬nh. Báº¡n muá»‘n tá»• chá»©c má»™t bá»¯a tiá»‡c sinh nháº­t tháº­t vui cho C.',
                description_zh: 'ä½ æ˜¯ä¸€ä¸ªä¸»åŠ¨çƒ­æƒ…çš„äººã€‚ä½ æƒ³ä¸ºCä¸¾åŠä¸€ä¸ªæœ‰è¶£çš„ç”Ÿæ—¥æ™šä¼šã€‚',
                description_py: 'NÇ shÃ¬ yÃ­ ge zhÇ”dÃ²ng rÃ¨qÃ­ng de rÃ©n. NÇ xiÇng wÃ¨i C jÇ”bÃ n yÃ­ ge yÇ’uqÃ¹ de shÄ“ngrÃ¬ wÇnhuÃ¬.',
                secret_info_title_vi: 'ThÃ´ng tin bÃ­ máº­t',
                secret_info_title_zh: 'ç§˜å¯†ä¿¡æ¯',
                secret_info_title_py: 'MÃ¬mÃ¬ xÃ¬nxÄ«',
                tasks_title_vi: 'Nhiá»‡m vá»¥ cá»§a báº¡n',
                tasks_title_zh: 'ä½ çš„ä»»åŠ¡',
                tasks_title_py: 'NÇ de rÃ¨nwÃ¹',
                secret_info: `
                    <li>Báº¡n biáº¿t C ráº¥t thÃ­ch bÃ¡nh kem vá»‹ sÃ´-cÃ´-la. <span class="translation">(ä½ çŸ¥é“Cå¾ˆå–œæ¬¢å·§å…‹åŠ›è›‹ç³• - NÇ zhÄ«dÃ o C hÄ›n xÇhuÄn qiÇokÃ¨lÃ¬ dÃ ngÄo)</span></li>
                    <li>Báº¡n cÃ³ 2 lá»±a chá»n vá» <strong>thá»i gian (æ—¶é—´)</strong>: 7 giá» tá»‘i thá»© Báº£y hoáº·c 6 giá» tá»‘i Chá»§ nháº­t. Báº¡n muá»‘n tá»• chá»©c vÃ o thá»© Báº£y hÆ¡n.</li>
                    <li>Äá»‹a chá»‰ nhÃ  báº¡n lÃ  123 ÄÆ°á»ng Háº¡nh PhÃºc. <span class="translation">(ä½ å®¶çš„åœ°å€æ˜¯å¹¸ç¦è·¯123å· - NÇ jiÄ de dÃ¬zhÇ shÃ¬ XÃ¬ngfÃº LÃ¹ 123 hÃ o)</span></li>
                `,
                tasks: `
                    <li>Há»i B vá» <strong>dá»± Ä‘á»‹nh cuá»‘i tuáº§n (å‘¨æœ«çš„æ‰“ç®—)</strong>.</li>
                    <li>Há»i B <strong>sinh nÄƒm nÃ o (å“ªå¹´å‡ºç”Ÿ)</strong> vÃ  <strong>cáº§m tinh con gÃ¬ (å±ä»€ä¹ˆ)</strong>.</li>
                    <li>Äá» xuáº¥t Ã½ tÆ°á»Ÿng <strong>tá»• chá»©c má»™t buá»•i tiá»‡c tá»‘i (ä¸¾åŠä¸€ä¸ªæ™šä¼š)</strong> cho C.</li>
                    <li>Tháº£o luáº­n vá»›i B Ä‘á»ƒ <strong>chuáº©n bá»‹ quÃ  vÃ  bÃ¡nh (å‡†å¤‡ç¤¼ç‰©å’Œè›‹ç³•)</strong>.</li>
                    <li>Chá»‘t káº¿ hoáº¡ch vÃ  má»i B <strong>nháº¥t Ä‘á»‹nh pháº£i tham gia (ä¸€å®šè¦å‚åŠ )</strong>.</li>
                    <li>KhÃ©o lÃ©o gá»i Ä‘iá»‡n má»i C Ä‘áº¿n nhÃ  <strong>Äƒn tá»‘i (åƒæ™šé¥­)</strong>.</li>
                `
            },
            'B': {
                name_vi: 'NhÃ¢n váº­t B',
                name_zh: 'è§’è‰²B',
                name_py: 'JuÃ©sÃ¨ B',
                color: 'green',
                description_vi: 'Báº¡n lÃ  má»™t ngÆ°á»i báº¡n tá»‘t vÃ  luÃ´n sáºµn lÃ²ng giÃºp Ä‘á»¡. Báº¡n cÅ©ng ráº¥t quÃ½ C.',
                description_zh: 'ä½ æ˜¯ä¸€ä¸ªä¹äºåŠ©äººçš„å¥½æœ‹å‹ã€‚ä½ ä¹Ÿå¾ˆå–œæ¬¢Cã€‚',
                description_py: 'NÇ shÃ¬ yÃ­ ge lÃ¨yÃº zhÃ¹rÃ©n de hÇo pÃ©ngyÇ’u. NÇ yÄ› hÄ›n xÇhuÄn C.',
                secret_info_title_vi: 'ThÃ´ng tin bÃ­ máº­t',
                secret_info_title_zh: 'ç§˜å¯†ä¿¡æ¯',
                secret_info_title_py: 'MÃ¬mÃ¬ xÃ¬nxÄ«',
                tasks_title_vi: 'Nhiá»‡m vá»¥ cá»§a báº¡n',
                tasks_title_zh: 'ä½ çš„ä»»åŠ¡',
                tasks_title_py: 'NÇ de rÃ¨nwÃ¹',
                secret_info: `
                    <li>Báº¡n vá»«a tháº¥y má»™t cáº·p tai nghe ráº¥t Ä‘áº¹p, cÃ³ thá»ƒ lÃ  mÃ³n quÃ  tuyá»‡t vá»i cho C.</li>
                    <li>Báº¡n ráº£nh cáº£ ngÃ y thá»© Báº£y, nhÆ°ng báº­n sau 5 giá» chiá»u Chá»§ nháº­t. <span class="translation">(ä½ æ˜ŸæœŸå…­æ•´å¤©æœ‰ç©ºï¼Œä½†æ˜ŸæœŸå¤©ä¸‹åˆäº”ç‚¹ä»¥åæ²¡ç©º - NÇ xÄ«ngqÄ«liÃ¹ zhÄ›ng tiÄn yÇ’u kÃ²ng, dÃ n xÄ«ngqÄ«tiÄn xiÃ wÇ” wÇ” diÇn yÇhÃ²u mÃ©i kÃ²ng)</span></li>
                    <li>Báº¡n biáº¿t C <strong>sinh nÄƒm (å‡ºç”Ÿ)</strong> 2002, nhÆ°ng khÃ´ng cháº¯c Ä‘Ã³ lÃ  con giÃ¡p gÃ¬.</li>
                `,
                tasks: `
                    <li>Tráº£ lá»i cÃ¡c cÃ¢u há»i cá»§a A.</li>
                    <li>HÆ°á»Ÿng á»©ng nhiá»‡t tÃ¬nh káº¿ hoáº¡ch tá»• chá»©c sinh nháº­t.</li>
                    <li>Tháº£o luáº­n vá»›i A vá» viá»‡c mua quÃ . Gá»£i Ã½ mÃ³n quÃ  báº¡n biáº¿t.</li>
                    <li>Há»i rÃµ A vá» <strong>thá»i gian vÃ  Ä‘á»‹a Ä‘iá»ƒm cá»¥ thá»ƒ (å…·ä½“çš„æ—¶é—´å’Œåœ°ç‚¹)</strong>.</li>
                    <li>CÃ¹ng A táº¡o báº¥t ngá» cho C táº¡i bá»¯a tiá»‡c.</li>
                `
            },
            'C': {
                name_vi: 'NhÃ¢n váº­t C',
                name_zh: 'è§’è‰²C',
                name_py: 'JuÃ©sÃ¨ C',
                color: 'purple',
                description_vi: 'Báº¡n lÃ  ngÆ°á»i sáº¯p cÃ³ sinh nháº­t. Báº¡n khÃ´ng biáº¿t gÃ¬ vá» káº¿ hoáº¡ch cá»§a A vÃ  B.',
                description_zh: 'ä½ æ˜¯å¿«è¦è¿‡ç”Ÿæ—¥çš„äººã€‚ä½ ä¸çŸ¥é“Aå’ŒBçš„è®¡åˆ’ã€‚',
                description_py: 'NÇ shÃ¬ kuÃ iyÃ o guÃ² shÄ“ngrÃ¬ de rÃ©n. NÇ bÃ¹ zhÄ«dÃ o A hÃ© B de jÃ¬huÃ .',
                secret_info_title_vi: 'ThÃ´ng tin bÃ­ máº­t',
                secret_info_title_zh: 'ç§˜å¯†ä¿¡æ¯',
                secret_info_title_py: 'MÃ¬mÃ¬ xÃ¬nxÄ«',
                tasks_title_vi: 'Nhiá»‡m vá»¥ cá»§a báº¡n',
                tasks_title_zh: 'ä½ çš„ä»»åŠ¡',
                tasks_title_py: 'NÇ de rÃ¨nwÃ¹',
                secret_info: `
                    <li>Sinh nháº­t chÃ­nh xÃ¡c cá»§a báº¡n lÃ  vÃ o Chá»§ nháº­t, khÃ´ng pháº£i thá»© Báº£y. <span class="translation">(ä½ çš„ç”Ÿæ—¥æ˜¯æ˜ŸæœŸå¤©ï¼Œä¸æ˜¯æ˜ŸæœŸå…­ - NÇ de shÄ“ngrÃ¬ shÃ¬ xÄ«ngqÄ«tiÄn, bÃºshÃ¬ xÄ«ngqÄ«liÃ¹)</span></li>
                    <li>Báº¡n <strong>sinh nÄƒm 2002 (äºŒé›¶é›¶äºŒå¹´å‡ºç”Ÿ)</strong>, <strong>cáº§m tinh con Ngá»±a (å±é©¬)</strong>.</li>
                    <li>Báº¡n chÆ°a cÃ³ <strong>dá»± Ä‘á»‹nh gÃ¬ (æ²¡ä»€ä¹ˆæ‰“ç®—)</strong> cho cuá»‘i tuáº§n.</li>
                `,
                tasks: `
                    <li>Báº¡n sáº½ nháº­n Ä‘Æ°á»£c má»™t cuá»™c gá»i tá»« A hoáº·c B. HÃ£y tráº£ lá»i tá»± nhiÃªn.</li>
                    <li>Khi Ä‘áº¿n dá»± tiá»‡c, hÃ£y thá»ƒ hiá»‡n sá»± ngáº¡c nhiÃªn vÃ  vui má»«ng.</li>
                    <li>Cáº£m Æ¡n má»i ngÆ°á»i vÃ  cÃ¹ng nhau <strong>Ä‘Ã³n sinh nháº­t (ä¸€èµ·è¿‡ç”Ÿæ—¥)</strong>.</li>
                    <li>Báº¡n cÃ³ thá»ƒ "tinh nghá»‹ch" tiáº¿t lá»™ sinh nháº­t cá»§a mÃ¬nh lÃ  vÃ o Chá»§ nháº­t Ä‘á»ƒ xem pháº£n á»©ng cá»§a má»i ngÆ°á»i.</li>
                `
            }
        };

        const vocabulary = `
            <h3 class="text-xl font-bold text-gray-700 mt-6 mb-3">Tá»« vá»±ng trá»ng tÃ¢m (é‡ç‚¹è¯æ±‡)</h3>
            <ul class="grid grid-cols-2 md:grid-cols-3 gap-x-4 gap-y-2 text-gray-600">
                <li>å‡ºç”Ÿ (chÅ«shÄ“ng)</li><li>ç”Ÿè‚– (shÄ“ngxiÃ o)</li><li>å± (shÇ”)</li>
                <li>æ‰“ç®— (dÇsuÃ n)</li><li>å‡†å¤‡ (zhÇ”nbÃ¨i)</li><li>æ­£å¥½ (zhÃ¨nghÇo)</li>
                <li>è¿‡ (guÃ²)</li><li>ä¸¾è¡Œ (jÇ”xÃ­ng)</li><li>æ™šä¼š (wÇnhuÃ¬)</li>
                <li>å‚åŠ  (cÄnjiÄ)</li><li>æ—¶é—´ (shÃ­jiÄn)</li><li>ä¸€å®š (yÃ­dÃ¬ng)</li>
                <li>ç¥ (zhÃ¹)</li>
            </ul>
        `;
        
        // --- Functions ---
        function showScreen(screenElement) {
            document.querySelectorAll('.screen').forEach(s => s.style.display = 'none');
            screenElement.style.display = 'block';
        }

        function showRole(roleKey) {
            const role = roles[roleKey];
            roleContent.innerHTML = `
                <div class="text-center mb-6 border-b pb-6">
                    <h2 class="text-3xl font-bold text-${role.color}-600">${role.name_vi} (${role.name_zh})</h2>
                    <p class="text-gray-500 mt-1 italic">${role.name_py}</p>
                    <p class="text-gray-700 mt-4">${role.description_vi}</p>
                    <p class="text-gray-600 mt-1">${role.description_zh}</p>
                    <p class="text-gray-500 mt-1 italic text-sm">${role.description_py}</p>
                </div>
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-${role.color}-50 border-l-4 border-${role.color}-500 p-4 rounded-r-lg">
                        <h3 class="text-xl font-bold text-${role.color}-800 mb-3">ğŸ¤« ${role.secret_info_title_vi} (${role.secret_info_title_zh})</h3>
                        <p class="text-sm italic text-${role.color}-600 mb-3">${role.secret_info_title_py}</p>
                        <ul class="task-list space-y-2 text-gray-700">${role.secret_info}</ul>
                    </div>
                     <div class="bg-gray-50 border-l-4 border-gray-400 p-4 rounded-r-lg">
                        <h3 class="text-xl font-bold text-gray-800 mb-3">ğŸ¯ ${role.tasks_title_vi} (${role.tasks_title_zh})</h3>
                        <p class="text-sm italic text-gray-600 mb-3">${role.tasks_title_py}</p>
                        <ul class="task-list space-y-2 text-gray-700">${role.tasks}</ul>
                    </div>
                </div>
                ${vocabulary}
            `;
            showScreen(roleDisplayScreen);
        }

        function goBack() {
            showScreen(characterSelectionScreen);
        }

        // --- Event Listeners ---
        toggleTranslationBtn.addEventListener('click', () => {
            const isHidden = scenarioTranslation.style.display === 'none';
            scenarioTranslation.style.display = isHidden ? 'block' : 'none';
            toggleTranslationBtn.textContent = isHidden ? 'áº¨n Pinyin & Dá»‹ch nghÄ©a' : 'Hiá»ƒn thá»‹ Pinyin & Dá»‹ch nghÄ©a';
        });

        startExerciseBtn.addEventListener('click', () => {
            showScreen(characterSelectionScreen);
        });
        
        // --- Initial Load ---
        window.onload = () => {
            showScreen(introductionScreen);
        };
    </script>
</body>
</html>
