<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BÃ i táº­p Giao tiáº¿p TÆ°Æ¡ng tÃ¡c - BÃ i 17</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f3f4f6;
        }
        .scenario-card {
            transition: all 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);
            transform-style: preserve-3d;
        }
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .card-front, .card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
        }
        .card-back {
            transform: rotateY(180deg);
        }
        .scenario-card.is-flipped .card-inner {
            transform: rotateY(180deg);
        }
        .hints {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.5s ease-out, opacity 0.5s ease-out;
            opacity: 0;
        }
        .hints.show {
            max-height: 500px;
            opacity: 1;
        }
    </style>
</head>
<body class="p-4 md:p-8">

    <div class="max-w-5xl mx-auto">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-indigo-700">BÃ i táº­p Giao tiáº¿p TÆ°Æ¡ng tÃ¡c</h1>
            <p class="text-lg text-gray-600 mt-2">DÃ nh cho 2 há»c viÃªn - Dá»±a trÃªn BÃ i 17</p>
        </header>

        <div class="text-center mb-8">
            <button id="new-scenario-btn" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-3 px-8 rounded-full shadow-lg transition transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
                ğŸš€ Táº¡o tÃ¬nh huá»‘ng má»›i
            </button>
        </div>

        <div id="scenario-container" class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Card for Student A -->
            <div id="card-a" class="scenario-card">
                <div class="bg-white p-6 rounded-2xl shadow-lg h-full flex flex-col">
                    <div class="flex-grow">
                        <h2 class="text-2xl font-bold text-sky-600 mb-4">DÃ nh cho Há»c viÃªn A</h2>
                        <div id="role-a-content" class="text-gray-700 space-y-3">
                            <p>Nháº¥n nÃºt "Táº¡o tÃ¬nh huá»‘ng má»›i" Ä‘á»ƒ báº¯t Ä‘áº§u!</p>
                        </div>
                    </div>
                    <div class="mt-6">
                        <button class="toggle-hints-btn w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg" data-target="hints-a">
                            Tá»« vá»±ng & Máº«u cÃ¢u gá»£i Ã½
                        </button>
                        <div id="hints-a" class="hints mt-4 text-sm"></div>
                    </div>
                </div>
            </div>

            <!-- Card for Student B -->
            <div id="card-b" class="scenario-card">
                <div class="bg-white p-6 rounded-2xl shadow-lg h-full flex flex-col">
                     <div class="flex-grow">
                        <h2 class="text-2xl font-bold text-teal-600 mb-4">DÃ nh cho Há»c viÃªn B</h2>
                        <div id="role-b-content" class="text-gray-700 space-y-3">
                             <p>Nháº¥n nÃºt "Táº¡o tÃ¬nh huá»‘ng má»›i" Ä‘á»ƒ báº¯t Ä‘áº§u!</p>
                        </div>
                    </div>
                    <div class="mt-6">
                        <button class="toggle-hints-btn w-full bg-gray-200 hover:bg-gray-300 text-gray-800 font-semibold py-2 px-4 rounded-lg" data-target="hints-b">
                            Tá»« vá»±ng & Máº«u cÃ¢u gá»£i Ã½
                        </button>
                        <div id="hints-b" class="hints mt-4 text-sm"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const scenarios = [
            {
                title: "Rá»§ Ä‘i xem phim cuá»‘i tuáº§n",
                roleA: {
                    description: "HÃ´m nay lÃ  thá»© SÃ¡u. Báº¡n gá»i Ä‘iá»‡n cho B Ä‘á»ƒ rá»§ Ä‘i xem phim á»Ÿ CGV vÃ o cuá»‘i tuáº§n.",
                    tasks: [
                        "ChÃ o há»i vÃ  há»i B: ä½ æ­£åœ¨åšä»€ä¹ˆå‘¢ï¼Ÿ (Báº¡n Ä‘ang lÃ m gÃ¬ tháº¿?)",
                        "Rá»§ B: è¿™ä¸ªå‘¨æœ«æˆ‘ä»¬ä¸€èµ·å»çœ‹ç”µå½±ï¼Œå¥½å—ï¼Ÿ (Cuá»‘i tuáº§n nÃ y chÃºng mÃ¬nh Ä‘i xem phim nhÃ©?)",
                        "Há»i xem B muá»‘n Ä‘i báº±ng phÆ°Æ¡ng tiá»‡n gÃ¬: æˆ‘ä»¬æ€ä¹ˆå»å‘¢ï¼Ÿ"
                    ],
                    hints: `
                        <p><strong>Tá»« vá»±ng:</strong> å‘¨æœ« (zhÅumÃ² - cuá»‘i tuáº§n), ç”µå½± (diÃ nyÇng - phim), æ€ä¹ˆæ · (zÄ›nmeyÃ ng - tháº¿ nÃ o?), åè½¦ (zuÃ²chÄ“ - Ä‘i xe buÃ½t), éª‘è½¦ (qÃ­chÄ“ - Ä‘i xe mÃ¡y/Ä‘áº¡p)</p>
                        <p><strong>Máº«u cÃ¢u:</strong></p>
                        <ul class="list-disc list-inside space-y-1 mt-2">
                            <li>å–‚ï¼Œæ˜¯ [TÃªn B] å—ï¼Ÿ (Alo, cÃ³ pháº£i B khÃ´ng?)</li>
                            <li>ä½ ç°åœ¨æœ‰äº‹å„¿å—ï¼Ÿ (BÃ¢y giá» báº¡n cÃ³ báº­n khÃ´ng?)</li>
                        </ul>
                    `
                },
                roleB: {
                    description: "Báº¡n Ä‘ang á»Ÿ nhÃ  lÃ m bÃ i táº­p. Báº¡n ráº¥t muá»‘n Ä‘i xem phim.",
                    tasks: [
                        "Tráº£ lá»i báº¡n Ä‘ang lÃ m gÃ¬: æˆ‘æ­£åœ¨åšç»ƒä¹ å‘¢ã€‚ (TÃ´i Ä‘ang lÃ m bÃ i táº­p.)",
                        "Äá»“ng Ã½ vá»›i lá»i rá»§ rÃª: å¥½å•Šï¼/ è¡Œï¼",
                        "Äá» xuáº¥t phÆ°Æ¡ng tiá»‡n: ä»Šå¤©æ˜ŸæœŸå…­ï¼Œåè½¦å¯èƒ½å¤ªæŒ¤äº†ï¼Œæˆ‘ä»¬éª‘è½¦å»ï¼Œæ€ä¹ˆæ ·ï¼Ÿ (HÃ´m nay thá»© 7, Ä‘i xe buÃ½t cÃ³ thá»ƒ Ä‘Ã´ng láº¯m, chÃºng ta Ä‘i xe mÃ¡y nhÃ©?)"
                    ],
                    hints: `
                        <p><strong>Tá»« vá»±ng:</strong> ç»ƒä¹  (liÃ nxÃ­ - bÃ i táº­p), å¤ªæŒ¤ (tÃ i jÇ - quÃ¡ Ä‘Ã´ng), å¯èƒ½ (kÄ›nÃ©ng - cÃ³ thá»ƒ), éª‘è½¦ (qÃ­chÄ“ - Ä‘i xe mÃ¡y/Ä‘áº¡p)</p>
                        <p><strong>Máº«u cÃ¢u:</strong></p>
                        <ul class="list-disc list-inside space-y-1 mt-2">
                            <li>å¤ªå¥½äº†ï¼ (Tá»‘t quÃ¡!)</li>
                            <li>ä½ æƒ³çœ‹ä»€ä¹ˆç”µå½±ï¼Ÿ (Báº¡n muá»‘n xem phim gÃ¬?)</li>
                        </ul>
                    `
                }
            },
            {
                title: "Há»i thÄƒm vá» viá»‡c há»c vÃ  rá»§ Ä‘i trÃ  sá»¯a",
                roleA: {
                    description: "Báº¡n gáº·p B á»Ÿ cÄƒng tin. Báº¡n muá»‘n há»i thÄƒm vá» lá»‹ch há»c cá»§a B vÃ  rá»§ Ä‘i uá»‘ng trÃ  sá»¯a.",
                    tasks: [
                        "ChÃ o B vÃ  há»i thÄƒm: ä½ å¥½ï¼ä½ å»ä¸Šè¯¾å—ï¼Ÿ (ChÃ o báº¡n! Báº¡n Ä‘i há»c Ã ?)",
                        "Há»i vá» cÃ¡c mÃ´n há»c: è¿™ä¸ªå­¦æœŸä½ æœ‰ä»€ä¹ˆè¯¾ï¼Ÿæœ‰å‡ é—¨è¯¾ï¼Ÿ (Há»c ká»³ nÃ y báº¡n cÃ³ mÃ´n gÃ¬? CÃ³ máº¥y mÃ´n?)",
                        "Há»i vá» giÃ¡o viÃªn: è°æ•™ä½ ä»¬å£è¯­è¯¾ï¼Ÿ (Ai dáº¡y báº¡n mÃ´n kháº©u ngá»¯?)",
                        "Rá»§ Ä‘i uá»‘ng trÃ  sá»¯a: ç­‰ä¸€ä¸‹æˆ‘ä»¬ä¸€èµ·å»å–å¥¶èŒ¶ï¼Œå¥½å—ï¼Ÿ (LÃ¡t ná»¯a chÃºng mÃ¬nh Ä‘i uá»‘ng trÃ  sá»¯a nhÃ©?)"
                    ],
                    hints: `
                        <p><strong>Tá»« vá»±ng:</strong> å­¦æœŸ (xuÃ©qÄ«), é—¨ (mÃ©n), ç»¼åˆè¯¾ (zÅnghÃ© kÃ¨), å£è¯­è¯¾ (kÇ’uyÇ” kÃ¨), å¬åŠ›è¯¾ (tÄ«nglÃ¬ kÃ¨), é˜…è¯»è¯¾ (yuÃ¨dÃº kÃ¨), æ•™ (jiÄo), å¥¶èŒ¶ (nÇichÃ¡ - trÃ  sá»¯a)</p>
                        <p><strong>Máº«u cÃ¢u:</strong></p>
                        <ul class="list-disc list-inside space-y-1 mt-2">
                            <li>ä½ çš„è¯¾æœ‰æ„æ€å—ï¼Ÿ (MÃ´n há»c cá»§a báº¡n cÃ³ thÃº vá»‹ khÃ´ng?)</li>
                        </ul>
                    `
                },
                roleB: {
                    description: "Báº¡n vá»«a tan há»c vÃ  Ä‘ang Ä‘á»‹nh Ä‘i Äƒn trÆ°a. Báº¡n sáºµn lÃ²ng chia sáº» vá» viá»‡c há»c cá»§a mÃ¬nh.",
                    tasks: [
                        "ChÃ o láº¡i vÃ  tráº£ lá»i: æˆ‘åˆšä¸‹è¯¾ï¼Œæ­£è¦å»åƒåˆé¥­ã€‚(TÃ´i vá»«a tan há»c, Ä‘ang Ä‘á»‹nh Ä‘i Äƒn trÆ°a.)",
                        "Liá»‡t kÃª cÃ¡c mÃ´n há»c cá»§a báº¡n.",
                        "Tráº£ lá»i tÃªn giÃ¡o viÃªn dáº¡y mÃ´n kháº©u ngá»¯. (VÃ­ dá»¥: ç‹è€å¸ˆæ•™æˆ‘ä»¬å£è¯­è¯¾ã€‚)",
                        "Äá»“ng Ã½ Ä‘i uá»‘ng trÃ  sá»¯a: è¡Œï¼æˆ‘ä»¬å»å“ªå„¿å–ï¼Ÿ (ÄÆ°á»£c! ChÃºng mÃ¬nh Ä‘i Ä‘Ã¢u uá»‘ng?)"
                    ],
                    hints: `
                        <p><strong>Tá»« vá»±ng:</strong> åˆš (gÄng - vá»«a má»›i), ä¸‹è¯¾ (xiÃ kÃ¨ - tan há»c), æ­£è¦ (zhÃ¨ngyÃ o - Ä‘ang Ä‘á»‹nh), åƒåˆé¥­ (chÄ« wÇ”fÃ n - Äƒn trÆ°a)</p>
                        <p><strong>Máº«u cÃ¢u:</strong></p>
                        <ul class="list-disc list-inside space-y-1 mt-2">
                            <li>æˆ‘ä»¬å­¦æ ¡æ—è¾¹æœ‰ä¸€å®¶å¥¶èŒ¶åº—ã€‚(Cáº¡nh trÆ°á»ng mÃ¬nh cÃ³ má»™t quÃ¡n trÃ  sá»¯a.)</li>
                        </ul>
                    `
                }
            },
            {
                title: "Rá»§ báº¡n Ä‘i nhÃ  sÃ¡ch Fahasa",
                roleA: {
                    description: "Báº¡n Ä‘ang á»Ÿ thÆ° viá»‡n vÃ  tháº¥y B cÅ©ng á»Ÿ Ä‘Ã³. Báº¡n cáº§n mua má»™t cuá»‘n tá»« Ä‘iá»ƒn HÃ¡n-Viá»‡t.",
                    tasks: [
                        "Báº¯t chuyá»‡n vá»›i B: ä½ ä¹Ÿåœ¨è¿™å„¿çœ‹ä¹¦å—ï¼Ÿ (Báº¡n cÅ©ng Ä‘á»c sÃ¡ch á»Ÿ Ä‘Ã¢y Ã ?)",
                        "NÃ³i vá» dá»± Ä‘á»‹nh cá»§a mÃ¬nh: æˆ‘æƒ³å»ä¹¦åº—ä¹°ä¸€æœ¬ã€Šæ±‰è¶Šè¯å…¸ã€‹ã€‚(TÃ´i muá»‘n Ä‘i nhÃ  sÃ¡ch mua má»™t cuá»‘n tá»« Ä‘iá»ƒn HÃ¡n-Viá»‡t.)",
                        "Rá»§ B Ä‘i cÃ¹ng: ä½ æƒ³ä¸æƒ³è·Ÿæˆ‘ä¸€èµ·å»ï¼Ÿ",
                        "Tháº£o luáº­n phÆ°Æ¡ng tiá»‡n: æˆ‘ä»¬æ€ä¹ˆå»å‘¢ï¼Ÿ"
                    ],
                    hints: `
                        <p><strong>Tá»« vá»±ng:</strong> ä¹¦åº— (shÅ«diÃ n), ä¹° (mÇi), ã€Šæ±‰è¶Šè¯å…¸ã€‹(HÃ n-YuÃ¨ CÃ­diÇn - tá»« Ä‘iá»ƒn HÃ¡n-Viá»‡t), ä¸€èµ· (yÃ¬qÇ - cÃ¹ng nhau)</p>
                        <p><strong>Máº«u cÃ¢u:</strong></p>
                        <ul class="list-disc list-inside space-y-1 mt-2">
                            <li>Fahasaä¹¦åº—ä¸å¤ªè¿œã€‚(NhÃ  sÃ¡ch Fahasa khÃ´ng xa láº¯m.)</li>
                        </ul>
                    `
                },
                roleB: {
                    description: "Báº¡n Ä‘ang tÃ¬m tÃ i liá»‡u cho mÃ´n nghe. Báº¡n cÅ©ng muá»‘n mua thÃªm vá»Ÿ.",
                    tasks: [
                        "Tráº£ lá»i: å¯¹ï¼Œæˆ‘æ­£åœ¨æ‰¾å¬åŠ›è¯¾çš„èµ„æ–™ã€‚(ÄÃºng váº­y, tÃ´i Ä‘ang tÃ¬m tÃ i liá»‡u cho mÃ´n nghe.)",
                        "Äá»“ng Ã½ Ä‘i cÃ¹ng vÃ  nÃ³i ra nhu cáº§u cá»§a mÃ¬nh: å¥½å•Šï¼æˆ‘ä¹Ÿæƒ³ä¹°å‡ ä¸ªæœ¬å­ã€‚(ÄÆ°á»£c thÃ´i! TÃ´i cÅ©ng muá»‘n mua máº¥y quyá»ƒn vá»Ÿ.)",
                        "Äá» xuáº¥t phÆ°Æ¡ng tiá»‡n: åå…¬å…±æ±½è½¦å»å§ï¼Œå¾ˆæ–¹ä¾¿ã€‚(Äi xe buÃ½t Ä‘i, ráº¥t tiá»‡n lá»£i.)"
                    ],
                    hints: `
                        <p><strong>Tá»« vá»±ng:</strong> æ‰¾ (zhÇo - tÃ¬m), èµ„æ–™ (zÄ«liÃ o - tÃ i liá»‡u), æœ¬å­ (bÄ›nzi - vá»Ÿ), å…¬å…±æ±½è½¦ (gÅnggÃ²ng qÃ¬chÄ“ - xe buÃ½t), æ–¹ä¾¿ (fÄngbiÃ n - tiá»‡n lá»£i)</p>
                        <p><strong>Máº«u cÃ¢u:</strong></p>
                        <ul class="list-disc list-inside space-y-1 mt-2">
                            <li>é‚£æˆ‘ä»¬èµ°å§ï¼(Váº­y chÃºng mÃ¬nh Ä‘i thÃ´i!)</li>
                        </ul>
                    `
                }
            }
        ];

        const newScenarioBtn = document.getElementById('new-scenario-btn');
        const roleAContent = document.getElementById('role-a-content');
        const roleBContent = document.getElementById('role-b-content');
        const hintsA = document.getElementById('hints-a');
        const hintsB = document.getElementById('hints-b');
        const cardA = document.getElementById('card-a');
        const cardB = document.getElementById('card-b');

        let audioCtx;
        function initAudio() { if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)(); }
        document.body.addEventListener('click', initAudio, { once: true });
        
        function playSound(type, freq, dur, vol = 0.1) {
            if (!audioCtx) return;
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, audioCtx.currentTime);
            gain.gain.setValueAtTime(vol, audioCtx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + dur);
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            osc.start();
            osc.stop(audioCtx.currentTime + dur);
        }
        
        const sounds = {
            click: () => playSound('triangle', 600, 0.08, 0.05),
            generate: () => playSound('sine', 440, 0.2),
        };

        function generateScenario() {
            sounds.generate();
            const randomIndex = Math.floor(Math.random() * scenarios.length);
            const scenario = scenarios[randomIndex];

            // Animation
            cardA.style.transform = 'scale(0.95)';
            cardB.style.transform = 'scale(0.95)';
            cardA.style.opacity = '0';
            cardB.style.opacity = '0';

            setTimeout(() => {
                // Update content for Role A
                roleAContent.innerHTML = `
                    <p class="text-base font-semibold text-gray-800">${scenario.roleA.description}</p>
                    <p class="mt-4 font-semibold">Nhiá»‡m vá»¥ cá»§a báº¡n:</p>
                    <ul class="list-disc list-inside space-y-1 text-gray-600">
                        ${scenario.roleA.tasks.map(task => `<li>${task}</li>`).join('')}
                    </ul>
                `;
                hintsA.innerHTML = scenario.roleA.hints;

                // Update content for Role B
                roleBContent.innerHTML = `
                    <p class="text-base font-semibold text-gray-800">${scenario.roleB.description}</p>
                    <p class="mt-4 font-semibold">Nhiá»‡m vá»¥ cá»§a báº¡n:</p>
                    <ul class="list-disc list-inside space-y-1 text-gray-600">
                        ${scenario.roleB.tasks.map(task => `<li>${task}</li>`).join('')}
                    </ul>
                `;
                hintsB.innerHTML = scenario.roleB.hints;
                
                // Reset hints visibility
                hintsA.classList.remove('show');
                hintsB.classList.remove('show');

                // Animation in
                cardA.style.transform = 'scale(1)';
                cardB.style.transform = 'scale(1)';
                cardA.style.opacity = '1';
                cardB.style.opacity = '1';

            }, 300);
        }

        newScenarioBtn.addEventListener('click', generateScenario);

        document.querySelectorAll('.toggle-hints-btn').forEach(button => {
            button.addEventListener('click', () => {
                sounds.click();
                const targetId = button.dataset.target;
                const hintsEl = document.getElementById(targetId);
                hintsEl.classList.toggle('show');
            });
        });

    </script>
</body>
</html>
